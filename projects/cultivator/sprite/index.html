<!doctype html>
<html>
<head>
	<title>lycheeJS Sprite Tool</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<link rel="stylesheet" href="../design/index.css">
	<script src="../design/index.js"></script>

	<!-- BOOTSTRAP -->
	<script src="/lychee/build/html/core.js"></script>

	<style>
	div.main > article:nth-child(2) {
		min-width: 512px;
	}
	#tool article figure {
		position: relative;
	}
	#tool article figure img {
		min-width: 64px;
		min-height: 64px;
		outline: none;
		background: url('./grid.png') repeat repeat;
	}
	#tool article figure img {
		position: absolute;
		top: 0px;
		left: 0px;
	}
	</style>
</head>
<body>
<menu>
	<li class="ico-tools active" onclick="ui.setView('tool');">Tool</li>
	<li class="ico-help" onclick="ui.setView('help');">Help</li>
</menu>
<aside>
	<button class="ico-refresh" onclick="window.location.href='./index.html'">Refresh</button>
</aside>
 
<section id="tool" class="active">

	<div class="main">

		<article>
			<h3>Settings</h3>
			<div>
				Modify the settings for the generated Sprite.
				Click on Download if it fits your needs.
			</div>

			<form id="settings" enctype="application/json" action="MAIN" method="javascript">
				<table class="vertical">
					<tr>
						<th>Files</th>
						<td><label class="file ico-upload"><input type="file" name="files" accept=".png" multiple>Upload</label></td>
					</tr>
					<tr>
						<th>Texture Size</th>
						<td><input type="range" name="size" min="1" max="8" value="4"></td>
					</tr>
					<tr>
						<th>Frame Size</th>
						<td>
							<ul class="select">
								<li><input type="radio" name="frame" value="original"><span>original</span></li>
								<li><input type="radio" name="frame" value="power-of-two" checked><span><abbr title="power of two">2<sup>^n</sup></abbr></span></li>
							</ul>
						</td>
					</tr>
					<tr>
						<th>Bounding Box</th>
						<td>
							<ul class="select">
								<li><input type="radio" name="boundingbox" value="none"><span>none</span></li>
								<li><input type="radio" name="boundingbox" value="auto" checked><span>auto</span></li>
							</ul>
						</td>
					</tr>
					<tr>
						<th>Entity Dimensions</th>
						<td>
							<input type="number" name="width" value="" min="0" placeholder="width"><br>
							<input type="number" name="height" value="" min="0" placeholder="height"><br>
							<input type="number" name="depth" value="" min="0" placeholder="depth"><br>
							<input type="number" name="radius" value="" min="0" placeholder="radius">
						</td>
					</tr>
					<tr>
						<th>Entity States</th>
						<td>
							<ul class="select">
								<li><input type="radio" name="states" value="none"><span>none</span></li>
								<li><input type="radio" name="states" value="auto" checked><span>auto</span></li>
							</ul>
						</td>
					</tr>
				</table>
			</form>
			<p class="center">
				<button id="preview-download" class="ico-download">Download Entity</button>
			</p>
		</article>

		<article>
			<h3>Preview</h3>
			<div>
				<figure class="center">
					<img id="preview-texture" src="data:image/png;base64,">
				</figure>
			</div>
		</article>

	</div>

</section>

<section id="help">

	<div class="wizard">

		<article class="wide">
			<h3><b>1</b>Usage</h3>
			<div>
				Upload all required frame images using the Upload button.
				The rest is done automagically.
				<br><br>
				Animations are triggered if the filenames contain an underscore.<br>
				Examples: default.png, not-animated.png, animated_01.png, animated_02.png
			</div>
		</article>

	</div>

</section>

<footer>
	lycheeJS is (c) 2012-2015 by LazerUnicorns Ltd. and released under MIT license.
</footer>

<script>
(function(lychee, global) {

	var environment = new lychee.Environment({
		id:      'sprite',
		debug:   false,
		sandbox: false,
		build:   'tool.Main',
		packages: [
			new lychee.Package('tool', './lychee.pkg')
		],
		tags:     {
			platform: [ 'html' ]
		}
	});


	lychee.setEnvironment(environment);

	lychee.init(function(sandbox) {

		var lychee = sandbox.lychee;
		var tool   = sandbox.tool;

		sandbox.MAIN = new tool.Main({
			dropzone: {
				element:    document.querySelector('#dropzone'),
				extensions: {
					png: true
				}
			}
		});
		sandbox.MAIN.init();

	});

})(lychee, typeof global !== 'undefined' ? global : this);
</script>
</body>
</html>    
