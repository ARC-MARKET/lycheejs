<!doctype html>
<html>
<head>
	<title>lycheeJS Inspector</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<link rel="stylesheet" href="../lib/layout/index.css">
	<script src="../lib/layout/index.js"></script>

	<!-- BOOTSTRAP -->
	<script src="/lychee/build/html/core.js"></script>

</head>
<body>

	<menu>
		<li><a onclick="MAIN.changeState('overview')">Overview</a></li>
		<li><a onclick="MAIN.changeState('asset')">Assets</a></li>
		<li><a onclick="MAIN.changeState('definition')">Definitions</a></li>
		<li><a onclick="MAIN.changeState('event')">Events</a></li>
		<li><a onclick="MAIN.changeState('log')">Logs</a></li>
	</menu>

	<main id="inspector-Main">

		<section id="inspector-state-Overview" class="inspector-State">
			<article>
				<h2>Current Environment<br><small>(unique identifier "unknown")</small></h2>
				<h3>Overview</h3>
				<div class="center"><p class="error"><b>Error</b>: The current Environment is corrupt or not available.</p></div>
				<h3>How To Use</h3>
				<p>Open an Environment by modifying the <em>url</em> parameter. Here is an example:</p>
				<ul>
					<li><a href="index.html?url=/projects/boilerplate/build/html/main.lychee.env">index.html?url=/projects/boilerplate/build/html/main.lychee.env</a></li>
				</ul>
			</article>
		</section>

		<section id="inspector-state-Asset" class="inspector-State">
			<menu class="hidden"></menu>
			<article class="hidden"></article>
		</section>

		<section id="inspector-state-Definition" class="inspector-State">
			<menu class="hidden"></menu>
			<article class="hidden"></article>
		</section>

		<section id="inspector-state-Event" class="inspector-State">
			<menu class="hidden"></menu>
			<article>This feature is coming soon...</article>
		</section>

		<section id="inspector-state-Log" class="inspector-State">
			<menu class="hidden"></menu>
			<article>This feature is coming soon...</article>
		</section>

	</main>

	<script>
	(function(lychee, global) {
	
		var environment = new lychee.Environment({
			id:       'inspector',
			debug:    true,
			sandbox:  false,
			build:    'inspector.Main',
			packages: [
				new lychee.Package('inspector', './lychee.pkg')
			],
			tags:     {
				platform: [ 'html' ]
			}
		});


		var parameters = {};

		if (document.location.search.indexOf('?') !== -1) {

			var tmp = document.location.search.substr(1).split('&');
			if (tmp.length > 0) {

				tmp.forEach(function(item) {

					var key = item.split('=')[0];
					var val = item.split('=')[1];

					parameters[key] = val;

				});

			}

		}


		lychee.setEnvironment(environment);

		lychee.init(function(sandbox) {

			var lychee    = sandbox.lychee;
			var inspector = sandbox.inspector;

			sandbox.MAIN = new inspector.Main(parameters);
			sandbox.MAIN.init();

		});

	})(lychee, typeof global !== 'undefined' ? global : this);
	</script>

</body>
</html>
